{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "zss-agent-config",
  "title": "ZiggySpider* Agent Configuration",
  "description": "Formal configuration for a ZSS agent. All fields optional — inferred from identity files if missing.",
  "type": "object",
  "properties": {
    "agent_id": {
      "type": "string",
      "description": "Unique identifier for this agent"
    },
    "name": {
      "type": "string",
      "description": "Display name (defaults to agent_id)"
    },
    "creature": {
      "type": "string",
      "description": "What this agent is — AI, construct, daemon, etc."
    },
    "vibe": {
      "type": "string",
      "description": "Personality summary"
    },
    "emoji": {
      "type": "string",
      "description": "Signature emoji"
    },
    "brain_type": {
      "type": "string",
      "enum": ["primary", "sub"],
      "description": "Primary brains orchestrate; sub-brains do specialized work"
    },
    "parent_agent": {
      "type": "string",
      "description": "For sub-brains: the primary agent that owns this brain"
    },
    "capabilities": {
      "type": "array",
      "items": { "type": "string" },
      "description": "List of tools/capabilities this agent can use"
    },
    "specialization": {
      "type": "string",
      "description": "For sub-brains: what they specialize in (coding, memory, heartbeat, etc.)"
    },
    "identity_files": {
      "type": "object",
      "description": "Paths to identity files. Sub-brains typically omit identity and user.",
      "properties": {
        "soul": { "type": "string", "default": "SOUL.md" },
        "agent": { "type": "string", "default": "AGENT.md" },
        "identity": { "type": "string", "description": "Primary brains only" },
        "user": { "type": "string", "description": "Primary brains only; sub-brains inherit from parent" }
      }
    },
    "memory_config": {
      "type": "object",
      "properties": {
        "ram_size": { "type": "integer", "description": "Context window size in tokens" },
        "ltm_enabled": { "type": "boolean", "default": true },
        "auto_summarize": { "type": "boolean", "default": true }
      }
    },
    "wake_triggers": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": { "type": "string", "enum": ["mention", "scheduled", "event", "always_on"] },
          "config": { "type": "object" }
        }
      },
      "description": "What causes this agent to wake and process"
    }
  },
  "required": ["agent_id"]
}
